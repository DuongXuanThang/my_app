<!-- File: my_app/www/province_district_view.html -->
<div>
    <h1 id="province_name"></h1>
    <ul id="district_list"></ul>
</div>

<script>
    // Xử lý sự kiện khi trang web được tải
    frappe.ready(function() {
        // Lấy thông tin tỉnh từ URL
        var province_name = frappe.get_route()[2];

        // Hiển thị tên tỉnh
        document.getElementById('province_name').innerText = province_name;

        // Gọi API để lấy danh sách quận của tỉnh
        frappe.call({
            method: 'my_app.api.get_districts',
            args: { province_name: province_name },
            callback: function(response) {
                if (response.message) {
                    // Hiển thị danh sách quận
                    var district_list = document.getElementById('district_list');
                    response.message.forEach(function(district) {
                        var li = document.createElement('li');
                        li.innerText = district;
                        district_list.appendChild(li);
                    });
                }
            }
        });
    });
</script>
