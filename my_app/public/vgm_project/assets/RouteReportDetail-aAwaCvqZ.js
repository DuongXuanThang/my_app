import{r as s,a9 as e,W as o,aP as L,aQ as y,aR as z,aD as B,aS as $,aK as S,ab as N}from"./index-DhUU2FpY.js";import{F as _,E as H}from"./FileExcelOutlined-MCBN4WA0.js";import{D as K,P as Q,M as V}from"./index-DCcd1jIk.js";function W(){const[C,k]=s.useState(!1),[X,r]=s.useState(""),[O,u]=s.useState(""),p=s.useRef(null),x=(t,n,l)=>{n(),r(t[0]),u(l)},v=t=>{t(),r("")},w=t=>({filterDropdown:({setSelectedKeys:n,selectedKeys:l,confirm:h,clearFilters:f,close:F})=>e.jsxs("div",{style:{padding:8},onKeyDown:i=>i.stopPropagation(),children:[e.jsx(B,{ref:p,placeholder:`Search ${t}`,value:l[0],onChange:i=>n(i.target.value?[i.target.value]:[]),onPressEnter:()=>x(l,h,t),style:{marginBottom:8,display:"block"}}),e.jsxs($,{children:[e.jsx(o,{type:"primary",onClick:()=>x(l,h,t),icon:e.jsx(S,{}),size:"small",style:{width:90},children:"Search"}),e.jsx(o,{onClick:()=>f&&v(f),size:"small",style:{width:90},children:"Reset"}),e.jsx(o,{type:"link",size:"small",onClick:()=>{h({closeDropdown:!1}),r(l[0]),u(t)},children:"Filter"}),e.jsx(o,{type:"link",size:"small",onClick:()=>{F()},children:"close"})]})]}),filterIcon:n=>e.jsx(S,{style:{color:n?"#1677ff":void 0}}),onFilter:(n,l)=>l[t].toString().toLowerCase().includes(n.toLowerCase()),onFilterDropdownOpenChange:n=>{n&&setTimeout(()=>p.current?.select(),100)},render:n=>n}),[D,q]=s.useState([]),[c,m]=s.useState([]),[E,a]=s.useState(!1);s.useEffect(()=>{(async()=>{try{a(!0)}catch(n){console.error("Error fetching data:",n)}finally{a(!1)}})()},[]);const I=()=>{a(!0),setTimeout(()=>{m([]),a(!1)},1e3)},R={selectedRowKeys:c,onChange:t=>{console.log("selectedRowKeys changed: ",t),m(t)}},j=c.length>0,T=[{title:"ID",dataIndex:"name",...w("name")},{title:"Mã điểm bán",dataIndex:"retail",render:t=>e.jsx(y,{placement:"topLeft",title:t,children:t})},{title:"Vị trí",dataIndex:"location",render:t=>e.jsx(y,{title:`${t}`,children:e.jsx(z,{style:{color:"green",cursor:"pointer"}})}),onCell:()=>({onClick:t=>{console.log("123")}})},{title:"Ngày checkin",dataIndex:"check_in_date"},{title:"Ngày tạo",dataIndex:"creation"},{title:"",dataIndex:"",render:()=>e.jsx(o,{onClick:()=>g(!0),icon:e.jsx(H,{})})}],[P,d]=s.useState(!1),g=(t=!1)=>{k(t),d(!0)},b=()=>{d(!1)},M=()=>{d(!1)};return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[j&&e.jsx(o,{type:"primary",danger:!0,ghost:!0,onClick:I,loading:E,icon:e.jsx(K,{}),children:"Xóa"}),e.jsx("span",{style:{marginLeft:8},children:j?`Đã chọn ${c.length} báo cáo`:""})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx("div",{style:{paddingRight:"10px"},children:e.jsx(o,{type:"primary",icon:e.jsx(_,{}),children:"Tãi xuống"})}),e.jsx(o,{type:"primary",icon:e.jsx(Q,{}),onClick:()=>g(!1),children:"Thêm mới"})]})]}),e.jsx(L,{rowSelection:R,columns:T,dataSource:D}),e.jsxs(V,{title:C?"Sửa":"Thêm mới",open:P,onOk:b,onCancel:M,children:[e.jsx("p",{children:"Some contents..."}),e.jsx("p",{children:"Some contents..."}),e.jsx("p",{children:"Some contents..."})]})]})}function Y(){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx("title",{children:"BÁO CÁO"})}),e.jsx(W,{})]})}export{Y as default};
